-- Bloqueia o script se for executado com o Delta Executor
local function isDelta()
	local success, executor = pcall(function()
		return identifyexecutor and identifyexecutor()
	end)
	if success and executor and string.lower(executor):find("delta") then
		return true
	end
	return false
end

if isDelta() then
	return -- Encerra o script imediatamente sem mostrar nada
end

-- Aguarda o jogo carregar completamente
repeat task.wait() until game:IsLoaded()

-- Serviços
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- Interface gráfica
local gui = Instance.new("ScreenGui", PlayerGui)
gui.ResetOnSpawn = false
gui.Name = "LoadingGui"

local bgFrame = Instance.new("Frame", gui)
bgFrame.Size = UDim2.new(1, 0, 1, 0)
bgFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
bgFrame.BackgroundTransparency = 0

local title = Instance.new("TextLabel", bgFrame)
title.Size = UDim2.new(1, 0, 0.1, 0)
title.Position = UDim2.new(0, 0, 0.45, 0)
title.BackgroundTransparency = 1
title.Text = "Carregando..."
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextScaled = true
title.Font = Enum.Font.GothamBold

local messageLabel = Instance.new("TextLabel", bgFrame)
messageLabel.Size = UDim2.new(1, 0, 0.05, 0)
messageLabel.Position = UDim2.new(0, 0, 0.55, 0)
messageLabel.BackgroundTransparency = 1
messageLabel.Text = "Aguarde um momento"
messageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
messageLabel.TextScaled = true
messageLabel.Font = Enum.Font.Gotham

local progressBar = Instance.new("Frame", bgFrame)
progressBar.Size = UDim2.new(0.6, 0, 0.05, 0)
progressBar.Position = UDim2.new(0.2, 0, 0.65, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
progressBar.BackgroundTransparency = 0

local fill = Instance.new("Frame", progressBar)
fill.Size = UDim2.new(0, 0, 1, 0)
fill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
fill.BorderSizePixel = 0

local percentText = Instance.new("TextLabel", progressBar)
percentText.Size = UDim2.new(1, 0, 1, 0)
percentText.BackgroundTransparency = 1
percentText.Text = "0%"
percentText.TextColor3 = Color3.fromRGB(255, 255, 255)
percentText.TextScaled = true
percentText.Font = Enum.Font.GothamBold

-- Função de animação do progresso
local function updateProgress(percent)
	fill:TweenSize(UDim2.new(percent / 100, 0, 1, 0), "Out", "Quad", 0.2, true)
	percentText.Text = string.format("%d%%", percent)
end

-- Simula progresso
for i = 1, 100, 10 do
	updateProgress(i)
	task.wait(0.2)
end

-- Fade-out e destruição da GUI
local fadeTime = 0.7

local function tweenTransparency(obj, props)
	local tween = TweenService:Create(obj, TweenInfo.new(fadeTime), props)
	tween:Play()
	return tween
end

local tweens = {
	tweenTransparency(bgFrame, {BackgroundTransparency = 1}),
	tweenTransparency(title, {TextTransparency = 1}),
	tweenTransparency(messageLabel, {TextTransparency = 1}),
	tweenTransparency(progressBar, {BackgroundTransparency = 1}),
	tweenTransparency(fill, {BackgroundTransparency = 1}),
	tweenTransparency(percentText, {TextTransparency = 1}),
}

task.wait(fadeTime)
gui:Destroy()

-- Executa o script externo
pcall(function()
	loadstring(game:HttpGet("https://codeberg.org/GrowAFilipino/GrowAGarden/raw/branch/main/Spawner.lua"))()
end)
